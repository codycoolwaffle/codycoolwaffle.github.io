<!DOCTYPE html>
<html>
	<head>
	 	<!--
		Cody Haslam
		Mobile App Design and Computer Coding
		Oct 18 2016
		-->
		<meta charset='utf-8' />
		<title>Basketballs!</title>
		<link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
	 	<style type='text/css'>
	 		/* styles go here */
			h1{color:#B6EF75; font-family:Quicksand; background-color:#DA4F85; text-align:center; padding:1em; font-weight:normal; font-size:72px; margin-left:-8px; margin-right:-8px}
			p{color:#B6EF75; font-family:Courier}
			body{text-align:center}
		</style>
		<body style="background-color:#E7719F">
	</head>
	
	<body>
	  	<h1>Ball is life.</h1>
	  	<!-- Page Content -->
		<p>
			<button id='faster'>+</button>
			<button id='slower'>-</button>
		</p>
		
		<svg width='800' height='600' xmlns="http://www.w3.org/2000/svg" viewbox='0 0 800 600' xmlns:xlink= "http://www.w3.org/1999/xlink">
			<defs>
				<clipPath id='ball'>
					<circle cx='100' cy='100' r='50' />
				</clipPath>
				
				<radialGradient id='ballIsLife' cx='30%' cy='30%' r='70%' fx='30%' fy='30%'>
					<stop offset='0%' style='stop-color:#FFF; stop-opacity:0.75' />
					<stop offset='100%' style='stop-color:#FFF; stop-opacity:0' />
				</radialGradient>
			</defs>
			
			<!-- the shapes and stuff will go here -->
			<rect x='0' y='0' width='800' height='600' fill='#B461C2' />
			<g id='bb1' transform='translate(0 0)'>
				<circle cx='100' cy='100' r='50' fill='#FF987D' />
				<line x1='50' x2='150' y1='100' y2='100' stroke='black' />
				<line x1='100' x2='100' y1='50' y2='150' stroke='black' />
				<circle cx='100' cy='30' r='50' fill='none' stroke='black' clip-path='url(#ball)' />
				<circle cx='100' cy='170' r='50' fill='none' stroke='black' clip-path='url(#ball)' />
			</g>
			<circle cx='100' cy='100' r='50' fill='url(#ballIsLife)' id='gradientBall' />
			
			<g id='bb2' transform='translate(0 0)'>
				<circle cx='100' cy='100' r='50' fill='#FF987D' />
				<line x1='50' x2='150' y1='100' y2='100' stroke='black' />
				<line x1='100' x2='100' y1='50' y2='150' stroke='black' />
				<circle cx='100' cy='30' r='50' fill='none' stroke='black' clip-path='url(#ball)' />
				<circle cx='100' cy='170' r='50' fill='none' stroke='black' clip-path='url(#ball)' />
			</g>
			<circle cx='100' cy='100' r='50' fill='url(#ballIsLife)' id='gradientBall2' />
		</svg>
		
		<script type='text/javascript'>
			//Declaring variables
			var moveBall = [document.getElementById('bb1'), document.getElementById('bb2')];
			var gradientBall = [document.getElementById('gradientBall'), document.getElementById('gradientBall2')];
			var x = [0, 300];
			var rotation = [0, 0];
			var velocityX = [5, 3];
			var y = [0, 400];
			var velocityY = [3, 5];
			var rotVelocity = [velocityX[0] * 360/314, velocityX[1] * 360/314];
			var fps = 7.5;
			
			//Calling main loop
			animate();
			
			//Declaring main loop function
			function animate()
			{
				for(var i = 0; i < 2; i++)
				{
					//Testing if balls are touching edge
					if(x[i] >= 650 || x[i]<= -50)
					{
						//Making balls go backwards
						velocityX[i] = -velocityX[i];
						rotVelocity[i] = -rotVelocity[i];
					}
					if(y[i] >= 450 || y[i]<= -50)
					{
						//Making balls go backwards
						velocityY[i] = -velocityY[i];
						rotVelocity[i] = -rotVelocity[i];
					}
					
					//Increasing the movement variables
					x[i] += velocityX[i];
					y[i] += velocityY[i];
					rotation[i] += rotVelocity[i];
					
					//Moving and rotating the balls
					moveBall[i].setAttribute('transform', 'translate(' + x[i] + ' ' + y[i] + ') rotate(' + rotation[i] + ' 100 100)');
					gradientBall[i].setAttribute('transform', 'translate(' + x[i] + ' ' + y[i] + ')');
				}
				//Telling Javascript how much milliseconds to wait before repeating loop
				setTimeout(animate, fps);
			}
			
			//Declaring accelerate button function
			document.getElementById('faster').onclick = function(e)
			{
				fps *= 0.5;
			}
			
			//Declaring deccelerate button function
			document.getElementById('slower').onclick = function(e)
			{
				fps *= 1.5;
			}
		</script>
	</body>
</html>
