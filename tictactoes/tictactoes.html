<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Tic Tac What-are-thooooooooooooose?!?</title>
		<link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="../stylesheet.css">
		<style type="text/css">
					h1{font-family:Quicksand}
					#results{margin-top:2em; margin-bottom:2em; font-family:Quicksand; font-size:1.5em; background-color:#FF987D; color:#83CB2F; padding:0.5em; display:none; width: 248px; margin-left: auto; margin-right: auto;}
					#newgame{margin:3.5em}
			</style>
	</head>

	<body>
		<h1>TIC TAC WHAT-ARE-THOSE?!?</h1>
		<!-- Page Content -->

		<img src="blank.svg" class="ttt" />
		<img src="blank.svg" class="ttt" />
		<img src="blank.svg" class="ttt" /><br />

		<img src="blank.svg" class="ttt" />
		<img src="blank.svg" class="ttt" />
		<img src="blank.svg" class="ttt" /><br />

		<img src="blank.svg" class="ttt" />
		<img src="blank.svg" class="ttt" />
		<img src="blank.svg" class="ttt" /><br />

		<div id="results">YAAAAAAAAAAASSSSSSSS</div>
		<div id="newgame"><a class="btn" href="">New Game!</a></div>

		<script src="../javascript/wafflib.js"></script>
		<script type="text/javascript">//THIS IS MY HOME DOMAIN
			var images = get(".ttt");
			var wins = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];
			var newgameButton = get("#newgame");
			var playable;
			var x;

			newgame();
			newgameButton.firstChild.onclick = newgame;

			for(var i = 0; i < images.length; i++)
			{
				images[i].onclick = clicked;
			}

			function clicked(event)
			{
				if(!(event.target.src.substring(event.target.src.length-9)=="blank.svg") || !playable)
				{
					return;
				}
				if(x)
				{
					event.target.src = "X.svg";
					checkWin("X.svg");
				}
				else
				{
					event.target.src = "O.svg";
					checkWin("O.svg");
				}

				x = !x;

			}

			function newgame()
			{
				get("#results").style.display = "none";

				for(var i = 0; i < images.length; i++)
				{
					images[i].src = "blank.svg";
				}

				playable = true;
			}

			function checkWin(player)
			{
				for(var i = 0; i < wins.length; i++)
				{
					if(images[wins[i][0]].src.indexOf(player) > 0 && images[wins[i][1]].src.indexOf(player) > 0 && images[wins[i][2]].src.indexOf(player) > 0)
					{
						get("#results").innerHTML = ("Player " + player.replace(".svg", "") + " won!");
						get("#results").style.display = "block";
						if(player == "X.svg")
						{
							get("#results").style.color = "#E7719F";
							x = false;
						}
						if(player == "O.svg")
						{
							get("#results").style.color = "#B6EF75";
							x = true;
						}
						playable = false;
						break;
					}
				}
			}
		</script>
	</body>
</html>
