<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8' />
		<title>Random Colour Buttons!!</title>
		<link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="stylesheet.css">
		<style type='text/css'>
				div{display:inline-block; font-family:'Comic Sans MS',sans-serif; color:#FFF; font-size:32px; padding:4em; margin-left:-0.245em;}
				#r{background-color:#F00;}
				#g{background-color:#0F0;padding: 4em 3.5em;}
				#b{background-color:#00F; padding: 4em 3.905em;}
		</style>
	</head>
 
	<body>
        <h1 id='colour'>Buttons!</h1><br />
        
        <div id='r' style='background-color:#F00'>&nbsp;Red</div>
        <div id='g' style='background-color:#0F0'>&nbsp;Green</div>
        <div id='b' style='background-color:#00F'>&nbsp;Blue</div>
        <script type='text/javascript'>
            var normColours = ['#F00', '#0F0', '#00F'];
            var pageElements = [document.getElementById('colour'), document.getElementsByTagName('div')];
            var norms = [true, true, true];
            var colourNums = ['1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F'];
            
            for(var i = 0; i < 3; i++)
            {
                console.log(pageElements[1][i]);
                pageElements[1][i].onclick = changeButton;
            }
            
            function randomColour()
            {
                console.log('Making random Colour');
                return '#' +
                    colourNums[Math.floor(Math.random() * colourNums.length)] +
                    colourNums[Math.floor(Math.random() * colourNums.length)] +
                    colourNums[Math.floor(Math.random() * colourNums.length)] +
                    colourNums[Math.floor(Math.random() * colourNums.length)] +
                    colourNums[Math.floor(Math.random() * colourNums.length)] +
                    colourNums[Math.floor(Math.random() * colourNums.length)];
            }
            
            function changeButton(event)
            {
                console.log(event.target.id);
                var elementNum = 'rgb'.indexOf(event.target.id);
                console.log(elementNum);
                if(norms[elementNum]===false)
                {
                    event.target.style.backgroundColor = normColours[elementNum];
                    pageElements[0].style.color = normColours[elementNum];
                    console.log('returning');
                    norms[elementNum] = true;
                    return;
                }
                
                console.log('Setting new colour');
                var newColour = randomColour();
                console.log(newColour);
                pageElements[0].style.color = newColour;
                event.target.style.backgroundColor = newColour;
                norms[elementNum] = false;
            }
        </script>
	</body>
</html>
